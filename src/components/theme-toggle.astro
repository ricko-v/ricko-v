---
import { Icon } from "astro-icon/components";
---

<button type="button" class="cursor-pointer theme-selector">
	<span class="sr-only"
		>Enable <span class="dark:hidden">light</span><span
			class="hidden dark:inline">dark</span
		> mode</span
	>
	<Icon name="mdi:white-balance-sunny" class={"inline dark:hidden"} />
	<Icon name="mdi:moon-and-stars" class={"hidden dark:inline"} />
</button>

<script>
	document.querySelectorAll(".theme-selector").forEach((element) => {
		element.addEventListener("click", () => {
			if (localStorage.theme === "dark") {
				localStorage.theme = "light";
				document.documentElement.classList.remove("dark");
			} else {
				localStorage.theme = "dark";
				document.documentElement.classList.add("dark");
			}
		});
	});
</script>
